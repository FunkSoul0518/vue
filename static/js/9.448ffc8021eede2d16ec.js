webpackJsonp([9],{"8bVk":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Cz8s"),o=a("mzkE"),r=a("mBwW"),i=a("rrFz"),c=a("NHnr"),l={data:function(){return{orderId:"",order:{user:{}},payState:!1}},components:{Header:e.a,Footer:o.a,Sub:r.a,Alert:i.a},methods:{scroll:function(){window.scroll(0,0)},getOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/s1002476/order/"+t.orderId;t.$store.dispatch("updateLoading",!0),this.$http.get(s).then(function(s){t.order=s.data.order,t.$store.dispatch("updateLoading",!1)})},payOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/s1002476/pay/"+t.orderId;t.$store.dispatch("updateLoading",!0),this.$http.post(s).then(function(s){t.payState=s.data.success,t.$store.dispatch("updateLoading",!1),c.eventBus.$emit("message:push","結帳成功!","success")})}},computed:{isLoading:function(){return this.$store.state.isLoading}},created:function(){this.scroll(),this.orderId=this.$route.params.orderId,this.getOrder()}},n={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),a("Alert"),t._v(" "),a("Header"),t._v(" "),a("main",{staticClass:"ReserveSuccess pt-4"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-8 col-12 mt-5"},[t._m(0),t._v(" "),a("h2",{staticClass:"title pb-4 mb-4 border-bottom"},[t._v("訂單建立")]),t._v(" "),a("ul",{staticClass:"pl-0 pb-4 border-bottom"},[a("li",{staticClass:"row mb-3"},[a("strong",{staticClass:"col-4 col-md-3"},[t._v("用戶姓名")]),t._v(" "),a("span",{staticClass:"col-8 col-md-9 text-secondary"},[t._v(t._s(t.order.user.name))])]),t._v(" "),a("li",{staticClass:"row mb-3"},[a("strong",{staticClass:"col-4 col-md-3"},[t._v("電子信箱")]),t._v(" "),a("span",{staticClass:"col-8 col-md-9 text-secondary"},[t._v(t._s(t.order.user.email))])]),t._v(" "),a("li",{staticClass:"row "},[a("strong",{staticClass:"col-4 col-md-3"},[t._v("電話")]),t._v(" "),a("span",{staticClass:"col-8 col-md-9 text-secondary"},[t._v(t._s(t.order.user.tel))])])]),t._v(" "),a("ul",{staticClass:"pl-0 pb-4 border-bottom"},[a("li",{staticClass:"row"},[a("strong",{staticClass:"col-md-3 col-4"},[t._v("備註")]),t._v(" "),a("span",{staticClass:"col-8 col-md-9 text-secondary"},[t._v(t._s(t.order.message))])])]),t._v(" "),t._m(1),t._v(" "),a("ul",{staticClass:"pl-0 pb-4 border-bottom mb-5"},[a("li",{staticClass:"row"},[a("strong",{staticClass:"col-md-3 col-4"},[t._v("總金額")]),t._v(" "),a("span",{staticClass:"col-8 col-md-9 text-secondary"},[t._v("TWD"+t._s(t._f("currencyFilter")(t.order.total))+"\n                "),t.payState?a("span",{staticClass:"text-success payState"},[t._v("已付款")]):t._e()])])]),t._v(" "),a("div",{staticClass:"d-flex flex-md-row flex-column"},[a("router-link",{staticClass:"btn btn-outline-primary py-3 px-4 ml-md-auto mr-md-2 mb-2 mb-md-0",attrs:{to:"/"}},[t._v("首頁")]),t._v(" "),a("button",{staticClass:"btn btn-primary py-3 px-4",attrs:{href:""},on:{click:function(s){return s.preventDefault(),t.payOrder(s)}}},[t._v("\n              結帳\n            ")])],1)])]),t._v(" "),a("div",{staticClass:"m-5"})])]),t._v(" "),a("Sub"),t._v(" "),a("Footer")],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"d-md-flex mb-4 justify-content-between d-none "},[s("h5",{staticClass:"text-secondary "},[this._v("\n              1.確認購買清單\n            ")]),this._v(" "),s("h5",{staticClass:"text-secondary "},[this._v("\n              2. 填寫訂單資料\n            ")]),this._v(" "),s("h5",{staticClass:"border-bottom border-dark pb-2"},[this._v("3. 完成訂單！")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"pl-0 pb-4 border-bottom"},[s("li",{staticClass:"row mb-3"},[s("strong",{staticClass:"col-md-3 col-4"},[this._v("入住日期")]),this._v(" "),s("span",{staticClass:"col-8 col-md-9 text-secondary"},[this._v("Deluxe Suite with Pool / 2 nights")])]),this._v(" "),s("li",{staticClass:"row"},[s("strong",{staticClass:"col-4 col-md-3"},[this._v("退房日期")]),this._v(" "),s("span",{staticClass:"col-8 col-md-9 text-secondary"},[this._v("Friday, 19 June 2020")])])])}]};var d=a("VU/8")(l,n,!1,function(t){a("EZN6")},null,null);s.default=d.exports},EZN6:function(t,s){}});
//# sourceMappingURL=9.448ffc8021eede2d16ec.js.map