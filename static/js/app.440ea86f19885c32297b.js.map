{"version":3,"sources":["webpack:///./src/store/index.js","webpack:///./src/App.vue?85c4","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/bus.js","webpack:///./src/main.js","webpack:///./src/filters/currency.js","webpack:///./src/filters/date.js"],"names":["Vue","use","Vuex","store","Store","state","isLoading","allproducts","products","pagination","cart","actions","updateLoading","context","status","commit","getAllProducts","axios","get","process","then","response","data","getProducts","url","arguments","length","undefined","success","getCarts","mutations","LOADING","ALLPRODUCTS","payload","PRODUCTS","PAGE","getters","randomProducts","randomList","newArray","index","n","Math","floor","random","push","splice","modules","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","Router","router","routes","path","redirect","component","Promise","all","e","bind","children","meta","requiresAuth","prototype","$bus","d","__webpack_exports__","eventBus","AOS","init","VueAxios","Loading","filter","num","Number","toFixed","replace","c","i","a","time","Date","toLocaleDateString","config","productionTip","defaults","withCredentials","library","add","fas","fab","FontAwesomeIcon","VueI18n","i18n","locale","VeeValidate","events","dictionary","zhTW","VueAwesomeSwiper","el","components","App","template","beforeEach","to","from","next","post","console","log","alert"],"mappings":"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","file":"static/js/app.440ea86f19885c32297b.js","sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport axios from \"axios\";\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    isLoading: false,\r\n    allproducts: [],\r\n    products: [],\r\n    pagination: [],\r\n    cart: []\r\n  },\r\n\r\n  actions: {\r\n    // 操作的方法\r\n    updateLoading(context, status) {\r\n      context.commit(\"LOADING\", status);\r\n    },\r\n    getAllProducts(context, status) {\r\n      const url = `${process.env.APIPATH}/api/${process.env.CUSTOMPATH}/products/all`;\r\n      context.commit(\"LOADING\", true);\r\n\r\n      axios.get(url).then(response => {\r\n        context.commit(\"LOADING\", false);\r\n        context.commit(\"ALLPRODUCTS\", response.data.products);\r\n      });\r\n    },\r\n    getProducts(context, status = 1) {\r\n      const url = `${process.env.APIPATH}/api/${process.env.CUSTOMPATH}/products?page=${status}`;\r\n      axios.get(url).then(response => {\r\n        if (response.data.success) {\r\n          context.commit(\"PRODUCTS\", response.data.products);\r\n          context.commit(\"PAGE\", response.data.pagination);\r\n        }\r\n      });\r\n    },\r\n    getCarts(context, status) {}\r\n  },\r\n\r\n  mutations: {\r\n    //改變資料的狀態\r\n    // 盡量用大寫命名\r\n    LOADING(state, status) {\r\n      // 在這裡修改資料狀態\r\n      state.isLoading = status;\r\n    },\r\n    ALLPRODUCTS(state, payload) {\r\n      state.allproducts = payload;\r\n    },\r\n    PRODUCTS(state, payload) {\r\n      state.products = payload;\r\n    },\r\n    PAGE(state, payload) {\r\n      state.pagination = payload;\r\n    }\r\n  },\r\n  getters: {\r\n    randomProducts(state) {\r\n      let randomList = [];\r\n      let newArray = [...state.products];\r\n      if (newArray.length >= 7) {\r\n        for (let index = 0; index < 7; index++) {\r\n          let n = Math.floor(Math.random() * newArray.length);\r\n          randomList.push(newArray[n]);\r\n          newArray.splice(n, 1);\r\n        }\r\n        return randomList;\r\n      } else {\r\n        return state.products;\r\n      }\r\n    }\r\n  },\r\n  modules: {}\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3273a4b2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3273a4b2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3273a4b2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <!-- <img src=\"./assets/logo.png\"> -->\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\"\n};\n</script>\n\n<style lang=\"scss\">\n@import \"./assets/all.scss\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from \"vue\";\nimport Router from \"vue-router\";\n// import HelloWorld from \"@/components/HelloWorld\";\n// import Home from \"@/pages/Home\";\n// import Search from \"@/pages/Search\";\n// import RoomInfo from \"@/pages/RoomInfo\";\n// import Reserve from \"@/pages/Reserve\";\n// import ReserveSuccess from \"@/pages/ReservationSuccess\";\n// import Login from \"@/pages/login\";\n// import UserOrder from \"@/pages/UserOrder\";\n// import OrderList from \"@/pages/OrderList\";\n// import AllProduct from \"@/components/AllProduct\";\n\n//後台\n// import adminLogin from \"@/pages/adminLogin\";\n// import Dashboard from \"@/pages/Dashboard\";\n// import Product from \"@/components/Product\";\n// import Orders from \"@/components/orders\";\n// import Coupon from \"@/components/coupon\";\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      // 使用者輸入不存在的路由名稱，轉向到 path:'error'頁面上\n      path: \"*\",\n      redirect: \"error\"\n    },\n    {\n      path: \"/\",\n      name: \"Home\",\n      component: () => import(\"@/pages/Home.vue\"),\n      children: [\n        {\n          path: \"\",\n          //路徑盡可能小寫\n          name: \"AllProduct\",\n          component: () => import(\"@/components/AllProduct\")\n        }\n      ]\n    },\n    {\n      path: \"/search\",\n      name: \"Search\",\n      component: () => import(\"@/pages/Search\")\n    },\n    {\n      path: \"/roominfo/:productId\",\n      //路徑盡可能小寫\n      name: \"RoomInfo\",\n      component: () => import(\"@/pages/RoomInfo\")\n    },\n    {\n      path: \"/reserve\",\n      name: \"Reserve\",\n      component: () => import(\"@/pages/Reserve\")\n    },\n    {\n      path: \"/reserveSuccess/:orderId\",\n      name: \"ReserveSuccess\",\n      component: () => import(\"@/pages/ReservationSuccess\")\n    },\n    {\n      path: \"/login\",\n      name: \"Login\",\n      component: () => import(\"@/pages/login\")\n    },\n    {\n      path: \"/userorder\",\n      name: \"UserOrder\",\n      component: () => import(\"@/pages/UserOrder\")\n    },\n    {\n      path: \"/orderlist\",\n      name: \"OrderList\",\n      component: () => import(\"@/pages/OrderList\"),\n      meta: { requiresAuth: true }\n    },\n\n    //後台\n    {\n      path: \"/adminLogin\",\n      name: \"adminLogin\",\n      component: () => import(\"@/pages/adminLogin\")\n    },\n    {\n      path: \"/admin\",\n      name: \"Dashboard\",\n      component: () => import(\"@/pages/Dashboard\"),\n      meta: { requiresAuth: true },\n      children: [\n        {\n          path: \"product\",\n          //路徑盡可能小寫\n          name: \"Product\",\n          component: () => import(\"@/components/Product\")\n        },\n        {\n          path: \"orders\",\n          //路徑盡可能小寫\n          name: \"Orders\",\n          component: () => import(\"@/components/orders\")\n        },\n        {\n          path: \"coupon\",\n          //路徑盡可能小寫\n          name: \"Coupon\",\n          component: () => import(\"@/components/coupon\")\n        }\n      ]\n    }\n  ]\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from \"vue\";\r\nVue.prototype.$bus = new Vue();\r\n\r\n//Message\r\n//vm.$bus.$emit('message:push', message, status)\r\n//message(String): 訊息內容\r\n//status(string): Alert 樣式內容\r\n\r\n//購物車 icon 更新狀態\r\n//vm.$bus.$emit('updateCart');\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/bus.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport store from \"./store\";\nimport App from \"./App\";\nimport router from \"./router\";\nimport \"bootstrap\";\nimport axios from \"axios\";\nimport VueAxios from \"vue-axios\";\nimport Loading from \"vue-loading-overlay\";\n// Import stylesheet\nimport \"vue-loading-overlay/dist/vue-loading.css\";\nimport VeeValidate from \"vee-validate\";\nimport zhTW from \"vee-validate/dist/locale/zh_TW\";\nimport VueI18n from \"vue-i18n\";\nimport VueAwesomeSwiper from \"vue-awesome-swiper\";\nimport \"swiper/css/swiper.css\";\n//視差滾動套件\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nAOS.init();\n//視差滾動套件\n\n//引入icon\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { fab } from \"@fortawesome/free-brands-svg-icons\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n//引入icon\n\nimport currencyFilter from \"./filters/currency\";\nimport dateFilter from \"./filters/date\";\nimport \"./bus\";\n\nVue.use(Vuex);\nVue.use(VueAxios, axios);\nVue.component(\"Loading\", Loading);\nVue.filter(\"currencyFilter\", currencyFilter);\nVue.filter(\"date\", dateFilter);\nVue.config.productionTip = false;\naxios.defaults.withCredentials = true;\n//axios 默認是發送請求的時候不會帶上 cookie 的，需要通過設置 withCredentials: true\n//icon\nlibrary.add(fas, fab);\nVue.component(\"font-awesome-icon\", FontAwesomeIcon);\n//icon\n\naxios.defaults.withCredentials = true;\n//跨域cookies\n\n// 中文化驗證\nVue.use(VueI18n);\n\nconst i18n = new VueI18n({\n  locale: \"zhTW\"\n});\nVue.use(VeeValidate, {\n  events: \"input|blur\", //這是為了讓使用者離開該欄位時觸發驗證\n  i18n,\n  dictionary: {\n    zhTW\n  }\n});\n\n// 中文化驗證\n\nexport const eventBus = new Vue();\n\nVue.use(VueAwesomeSwiper);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: \"#app\",\n  router,\n  store,\n  components: { App },\n  template: \"<App/>\",\n  i18n\n});\n\n//驗證守衛router\n\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.requiresAuth) {\n    const api = `${process.env.APIPATH}/api/user/check`;\n    axios.post(api).then(response => {\n      console.log(response.data);\n      // 上方因為此段不是在vue實體內所以沒辦法用this.$http呼叫  直接使用axios套件\n      if (response.data.success) {\n        next();\n        //如果登入成功則直接執行next()\n      } else {\n        alert(\"請先登入\");\n        next({\n          path: \"/\"\n        });\n      }\n    });\n  } else {\n    next();\n    //如果跳轉的頁面沒有meta.requiresAuth 直接跳轉\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default function(num) {\r\n  const n = Number(num);\r\n  return `$${n.toFixed(0).replace(/./g, (c, i, a) => {\r\n    const currency =\r\n      i && c !== \".\" && (a.length - i) % 3 === 0\r\n        ? `, ${c}`.replace(/\\s/g, \"\")\r\n        : c;\r\n    return currency;\r\n  })}`;\r\n}\r\n//金額後面算小數點\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters/currency.js","export default function(time) {\r\n  const date = new Date(time * 1000);\r\n  return date.toLocaleDateString();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/filters/date.js"],"sourceRoot":""}